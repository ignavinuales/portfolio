<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Project 3: Battery RUL Prediction | Ignacio Vinuales</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Heavy data preprocessing and ANN.">
    <meta name="generator" content="Hugo 0.105.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="https://ignavinuales.github.io/portfolio/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="Project 3: Battery RUL Prediction" />
<meta property="og:description" content="Heavy data preprocessing and ANN." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ignavinuales.github.io/portfolio/posts/project-4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-28T10:58:08-04:00" />
<meta property="article:modified_time" content="2022-01-28T10:58:08-04:00" />

<meta itemprop="name" content="Project 3: Battery RUL Prediction">
<meta itemprop="description" content="Heavy data preprocessing and ANN."><meta itemprop="datePublished" content="2022-01-28T10:58:08-04:00" />
<meta itemprop="dateModified" content="2022-01-28T10:58:08-04:00" />
<meta itemprop="wordCount" content="421">
<meta itemprop="keywords" content="scene," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Project 3: Battery RUL Prediction"/>
<meta name="twitter:description" content="Heavy data preprocessing and ANN."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  <header class="cover bg-top" style="background-image: url('https://ignavinuales.github.io/portfolio/Images/battery.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://ignavinuales.github.io/portfolio/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Ignacio Vinuales
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ignavinuales.github.io/portfolio/posts/" title="Projects page">
              Projects
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ignavinuales.github.io/portfolio/about/" title="About me page">
              About me
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ignavinuales.github.io/portfolio/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    <a href="https://www.linkedin.com/in/ignaciovinuales/" target="_blank" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://www.kaggle.com/ignaciovinuales" target="_blank" class="kaggle ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="kaggle link" rel="noopener" aria-label="follow on kaggle——Opens in a new window">
      
        kaggle
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">Project 3: Battery RUL Prediction</div>
          
            <div class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
              Heavy data preprocessing and ANN.
            </div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        PROJECTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
      
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://ignavinuales.github.io/portfolio/posts/project-4/&amp;title=Project%203:%20Battery%20RUL%20Prediction" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn">
        
        <span class="icon"> <svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
        
      </a>
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Project 3: Battery RUL Prediction</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2022-01-28T10:58:08-04:00">January 28, 2022</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>This project was developed as part of my masters degree. Battery Remaining Useful Lifetime (RUL) is an active field of research as batteries have become more important in recent years. The RUL of a battery can be usually estimated by its capacity (mAH). However, what if the capacity cannot be measured and the battery does not deliver real-time information about its current health state? The motivation behind the project is to determine the battery&rsquo;s remaining cycles while it is charged and discharged using only voltage and current.</p>
<p>After finding the appropiate open source dataset, the project was divided it into two main stages:</p>
<ol>
<li><strong>Data preprocessing</strong>: extract and create new features from open source datasets based on voltage, current, and time.</li>
<li><strong>Building and testing deep neural network models with PyTorch</strong>: predict a battery&rsquo;s remaining useful life (RUL) by developing a feedforward and a Long-Short-Time-Memory (LSTM).</li>
</ol>
<p><strong>Datasets source</strong> :The public datasets can be found in the battery archive repository linked below. 14 databases are selected from the HNEI source. The <em>.csv files</em> are the time series named &lsquo;HNEI_18650_NMC_LCO_25C_0-100_0.5/1.5C_&rsquo;.</p>
<p><a href="https://www.batteryarchive.org/list.html">Battery Archive Data source</a></p>
<h3 id="data-preprocessing">Data preprocessing</h3>
<p>The publicly available databases for battery life cycles do not provide ready-to-use data for this project. Although they contain different variables such as voltage (V), current (A), time (S), discharge and charge capacity (Ah), and charge and discharge energy (Wh), not all of them can be used for this project. The objective is to use only voltage, current, and time as inputs. Nonetheless, employing these variables directly as inputs is not feasible since they provide meaningless information and are not sufficient to create the type of model I had in mind. Therefore, they need to be treated and manipulated as a base to develop new features which the neural network will train with.</p>
<p>In summary, seven features are created from the source datasets using voltage, current, and time. The idea is to use those features to predict the RUL of the battery and are summarized in the figures below:
<figure><img src="https://ignavinuales.github.io/portfolio/Images/Voltage%20Discharging%20Cycle.png"/>
</figure>

<figure><img src="https://ignavinuales.github.io/portfolio/Images/Current%20Charging%20Cycle.png"/>
</figure>

<figure><img src="https://ignavinuales.github.io/portfolio/Images/Voltage%20Charging%20Cycle.png"/>
</figure>
</p>
<h3 id="modules-in-the-repository">Modules in the repository</h3>
<p><strong>preprocess_data.py:</strong> preprocesses data, creates the features and appends them to a new dataset. This code needs to be run for each and one of the 14 source databases.<br>
<strong>join_dataframes.py:</strong> it concatenates the 14 dataframes (one for each of the 14 source dataframes) createed by preprocess_data.py.<br>
<strong>FeedForward_NN.py:</strong> Feedforward neural network.<br>
<strong>LSTM_NN.py:</strong> LSTM neural network.</p>
<h3 id="datasets-in-the-repository">Datasets in the repository</h3>
<p>The datasets created by preprocess_data.py and the joined dataset can be accessed. However, due to the size of the original HNEI datasets, these are not available in the repository.</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="https://ignavinuales.github.io/portfolio/tags/scene/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">scene</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://ignavinuales.github.io/portfolio/" >
    &copy;  Ignacio Vinuales 2022 
  </a>
    <div>
<div class="ananke-socials">
  
    <a href="https://www.linkedin.com/in/ignaciovinuales/" target="_blank" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://www.kaggle.com/ignaciovinuales" target="_blank" class="kaggle ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="kaggle link" rel="noopener" aria-label="follow on kaggle——Opens in a new window">
      
        kaggle
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
